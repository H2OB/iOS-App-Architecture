
https://objccn.io/issue-15-3/


依赖注入的 5 种方式
- 构造方法注入
- 属性注入 / setter 方法注入
- 单个方法注入
- 环境上下文注入
- 抽取和重写调用

> 我对那些刚开始使用 mock 对象的朋友们的建议是应尽量避免使用 mock 框架，这样你会对各个步骤和细节有更好的理解。同样地，我建议那些刚开始使用 DI 的朋友也不要使用任何 DI 框架。在不依靠 DI 框架的情况下，对 DI 的理解会更纯粹，会更明白自己该做什么，怎么做。

我的理解是，使用框架后，会将本源的基础技术和原理隐藏起来，这在一开始接触时并不好，当然，当你对这些基础技术有足够了解后，再去使用这些框架才会更有效率。
比如前端开发中也有很多框架，iOS 开发中也有很多框架，框架用多了，就更像是搭积木，而不知道背后发生了什么。

> 慎选那些需要改变你自己的代码才能使用的框架。比如说继承某个东西，实现某个接口，或者添加什么注解等等，这些都会将你的代码和某种特定实现捆绑在一起 (这与 DI 的根本设计哲学相悖)。反过来，应尽量去用那些不需要浸染你的类即可以从外部连接的框架，至于说是 DSL 方式还是代码方式都无所谓。

一个很明显的例子就是 Mantle 和 MJExtension、YYModel 的对比，Mantle 的侵入性更强，因为 Mantle 使用的是继承，而后两者使用的是 category 的机制


> 因为在执行测试驱动开发 (TDD)，而在 TDD 的过程中有一个很纠结的问题会时常跳出来：“对于这个实现，如何编写单元测试？”。后来我发现其实 DI 本身是在彰显一个更高层面的概念：代码组成了模块，模块拼接构建成了应用本身。

这篇文章的讨论本是基于测试的角度来讨论的。实际上依赖注入不仅仅是针对测试，从更高层面上来讲，应用 DI 来实现解耦的插拔模块，能够帮助我们写出更易于维护的代码。它会影响你的很多设计决策，并且引导你去理解更多的 DI 模式和原则。
